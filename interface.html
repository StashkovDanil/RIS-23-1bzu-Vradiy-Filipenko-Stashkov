<!DOCTYPE html>
<html lang="ru">
<head>
<title>Умная кормушка</title>
</head>
<body>
  <div class="container">
  <header>
    <h1>Умная кормушка</h1>
  </header>

  <section class="card">
    <h2>Кормить сейчас</h2>
    <div class="row">
      <label>Размер порции (г)</label>
      <input id="portionInput" type="number" min="1" value="{{ portion_size }}" />
    </div>
    <button id="feedBtn">Выдать корм</button>
  </section>

  <section class="card">
    <h2>Остаток корма</h2>
    <div class="big">{{ food_left }} г</div>
    <div class="progress">
      <div id="progressBar" style="width: {{ (food_left / 300 * 100) if food_left else 0 }}%"></div>
    </div>
    <button id="toggleSensor">Переключить датчик корма</button>
  </section>

  <section class="card">
    <h2>Следующая кормёжка</h2>
    <div id="nextFeed">{{ next_feed }}</div>
  </section>

  <section class="card">
    <h2>Расписание</h2>
    <div id="scheduleList">
      {% for t in schedule %}}
      <div class="sched-item"><input type="time" value="{{ t }}" /> <button class="del">×</button></div>
      {% endfor %}
    </div>
    <div class="row">
      <button id="addTime">Добавить время</button>
      <button id="saveSchedule" class="secondary">Сохранить</button>
    </div>
  </section>

  <section class="card">
    <h2>Журнал кормежек</h2>
    <ul id="logList">
      {% for entry in log %}
      <li>{{ entry.time }} — {{ entry.amount }} г — {{ entry.mode }}</li>
      {% endfor %}
    </ul>
  </section>

  <footer>
    <small>Работает в фоне, планировщик внутри приложения.</small>
  </footer>
</div>
</body>
</html>
